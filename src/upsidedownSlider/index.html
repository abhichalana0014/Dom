<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Question Roller</title>
  <link rel="stylesheet" href="../../dist/output.css">
</head>
<body class="flex items-center justify-center h-screen bg-gray-100">

<div id="question-container" class="w-1/3 text-center bg-white p-8 rounded shadow-md">
  <ul id="questions" class="mb-4 list-none">
    <!-- Questions will be dynamically added here -->
  </ul>
  <button id="prev-btn" class="bg-blue-500 text-white px-4 py-2 rounded" onclick="prevQuestion()">Previous</button>
  <button id="next-btn" class="bg-blue-500 text-white px-4 py-2 rounded" onclick="nextQuestion()">Next</button>
</div>

<script>
  // Questions array
  const questions = [
    'Question 1: What is your favorite color?',
    'Question 2: What is your favorite animal?',
    'Question 3: What is your favorite food?',
    'Question 4: What is your favorite food?',
    'Question 5: What is your favorite food?',
    'Question 6: What is your favorite food?',
    'Question 7: What is your favorite food?',
    'Question 8: What is your favorite food?',
    'Question 9: What is your favorite food?',
    'Question 10: What is your favorite food?',
  ];

  let currentQuestionIndex = 0;
  const questionContainer = document.getElementById('questions');
  const prevButton = document.getElementById('prev-btn');
  const nextButton = document.getElementById('next-btn');

  // Function to update the question container
  function updateQuestionContainer() {
    questionContainer.innerHTML = '';
    questions.forEach((question, index) => {
      const questionElement = document.createElement('li');
      questionElement.innerText = question;
      questionElement.classList.add('question', 'mb-2');
      if (index === currentQuestionIndex) {
        questionElement.classList.add('active');
      }
      questionContainer.appendChild(questionElement);
    });
  }

  // Function to update opacity based on current question index
  function updateOpacity() {
    const questionElements = document.querySelectorAll('.question');
    questionElements.forEach((element, index) => {

      console.log("index", index)
      console.log("currentQuestionIndex", currentQuestionIndex)
      
      const distance = Math.abs(index - currentQuestionIndex);
      console.log("distance is",distance)
      const opacity = 1 - distance * 0.1;
      element.style.opacity = opacity;
    });
  }

  // Function to show the current question
  function showCurrentQuestion() {
    updateQuestionContainer();
    updateOpacity();
  }

  // Function to show the next question
  function nextQuestion() {
    if (currentQuestionIndex < questions.length - 1) {
      currentQuestionIndex++;
      showCurrentQuestion();
    }
  }

  // Function to show the previous question
  function prevQuestion() {
    if (currentQuestionIndex > 0) {
      currentQuestionIndex--;
      showCurrentQuestion();
    }
  }

  // Initial question display
  showCurrentQuestion();

  // Adjust container height based on window height
  const questionContainerHeight = window.innerHeight * 0.6;
  questionContainer.style.height = `${questionContainerHeight}px`;
</script>

<style>
  .question {
    transition: opacity 0.3s ease-in-out;
  }

  .active {
    font-weight: bold;
  }
</style>

</body>
</html>
